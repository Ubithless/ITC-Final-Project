<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Iloilo Café Guide — Map</title>
  <link rel="stylesheet" href="style.css">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <div class="logo">☕</div>
      <h1>Iloilo Café Guide</h1>
    </div>
  </header>

  <main class="page">
    <aside class="info-card">
      <h2>Discover cafés in Iloilo City</h2>
      <p>Hover the map areas to see a float effect. Click an area to zoom and list nearby Cafés — click a Café to open its detail page with reviews and menu. Menu items reveal ingredients on hover.</p>

      <div class="meta">
        <h4>Socials</h4>
        <p><a href="#" aria-label="facebook">Facebook</a> · <a href="#" aria-label="instagram">Instagram</a></p>

        <h4>Location</h4>
        <p>Iloilo City, Philippines</p>
      </div>
    </aside>

    <section class="map-wrap">
      <div id="map"></div>
      <div class="tooltip-card" id="tooltip"></div>
    </section>
    </main>

    <footer class="site-foot">Made with ☕ — Iloilo Café Guide</footer>

    <script src="script.js"></script>

    <script>
        // Initialize map
        const map = L.map('map').setView([10.7202, 122.5621], 13); // Iloilo City center

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
        }).addTo(map);

        // Café data with coordinates
        const cafes = [
            {
                name: "Don Macchiatos",
                slug: "DonMacchiatos",
                desc: "Jaro, Iloilo City",
                img: "images/DonMacchiatos/DonMacchiatos.jpg",
                coords: [10.71498, 122.56223]
            },
            {
                name: "Chaithentic Jaro",
                desc: "San Jose St., Jaro, Iloilo City",
                slug: "Chaithentic",
                img: "images/Chaithentic/Chaithentic.jpg",
                coords: [10.71627, 122.56291]
            },
            {
                name: "Kkopi.Tea E Lopez Jaro",
                desc: "E Lopez St., Jaro, Iloilo City",
                slug: "Kkopi.Tea",
                img: "images/Kkopi.tea/Kkopi.Tea.jpg",
                coords: [10.71739, 122.56186]
            },
            {
                name: "bean there. Coffee",
                desc: "E Lopez St., Jaro, Iloilo City",
                slug: "beanthere.",
                img: "images/beanthere./beanthere..jpg",
                coords: [10.71764, 122.56170]
            },
            {
                name: "Hype Up Cafe",
                desc: "San Jose St., Jaro, Iloilo City",
                slug: "Hypeup",
                img: "images/hypeup/hypeup.jpg",
                coords: [10.71703, 122.56362]
            },
            {
                name: "Yelle Cafe",
                desc: "Del Carmen St., Jaro, Iloilo City",
                slug: "Yellecafe",
                img: "images/Yellecafe/Yellecafe.jpg",
                coords: [10.71740, 122.56220]
            }
        ];

        const tooltip = document.getElementById('tooltip');

        // Create markers and hover tooltips
        cafes.forEach(cafe => {
            const marker = L.marker(cafe.coords).addTo(map);

            marker.on('mouseover', (e) => {
                const point = map.latLngToContainerPoint(e.latlng);
                tooltip.style.left = point.x + 350 + 'px';
                tooltip.style.top = point.y - 5 + 'px';

                tooltip.innerHTML = `
                    <img src="${cafe.img}" />
                    <h4>${cafe.name}</h4>
                    <p>${cafe.desc}</p>
                `;

                tooltip.style.display = 'block';
            });

            marker.on('mouseout', () => {
                tooltip.style.display = 'none';
            });

            // This is the link to the separate cafe detail page
            marker.on('click', () => {
                window.location.href =`cafes/${cafe.slug}.html`;
            });
        });
    </script>
</body>
</html>